<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./style.css" />
  <link rel="stylesheet" href="./menu.css" />


  <title>Snake game</title>
</head>

<body>
  <div class="score">Score: <span>0</span> build: 5</div>
  <div class="debug">Debug: <span>-</span></div>
  <div class="grid"></div>
</body>

<script src="./libs/Tone.min.14.8.49.js"></script>
<script src="./Cell.js"></script>
<script src="./Game.js"></script>
<script src="./Grid.js"></script>
<script src="./Sound.js"></script>
<script src="./Snake.js"></script>
<script src="./Food.js"></script>
<script src="./InputHandler.js"></script>
<script src="./SnakeDirection.js"></script>

<script src="./Menu.js"></script>

<script src="./js/state-machine/GameState.js"></script>
<script src="./js/state-machine/GameStateMachine.js"></script>

<script src="./js/state-machine/game-states/GameOngoingState.js"></script>
<script src="./js/state-machine/game-states/GameOptionsState.js"></script>
<script src="./js/state-machine/game-states/GameOverState.js"></script>
<script src="./js/state-machine/game-states/GamePausedState.js"></script>
<script src="./js/state-machine/game-states/MainMenuState.js"></script>
<script src="./js/state-machine/game-states/SplashScreenState.js"></script>
<script src="./js/preload-emoji-svgs.js"></script>


<script>

  const gameStateMachine = new GameStateMachine();

  // Define transitions
  // gameStateMachine.addTransition(SplashScreenState, MainMenuState);
  //gameStateMachine.addTransition(MainMenuState, GameOptionsState);
  gameStateMachine.addTransition(MainMenuState, GameOngoingState);
  gameStateMachine.addTransition(GameOngoingState, GamePausedState);
  gameStateMachine.addTransition(GameOngoingState, GameOverState);
  gameStateMachine.addTransition(GamePausedState, GameOngoingState);
  gameStateMachine.addTransition(GamePausedState, MainMenuState);
  gameStateMachine.addTransition(GameOverState, MainMenuState);


  // Define the dimensions and cell size for the grid
  const gridWidth = 25;
  const gridHeight = 20;
  const cellSize = 20;
  const initialInterval = 200;

  // Create the Game instance
  const game = new Game(gridWidth, gridHeight, cellSize, initialInterval);

  // add to the debug div that we are starting the game
  document.querySelector('.debug span').textContent = 'Starting the game...';

  gameStateMachine.changeState(MainMenuState);

</script>

</html>